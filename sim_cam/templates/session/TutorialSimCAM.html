<html><head><title>Tutorial: SimCAM</title><style type="text/css">ol{margin:0;padding:0}.c11{color:#0088cc;background-color:#ffffff;text-decoration:underline}.c9{color:#1155cc;background-color:#ffffff;text-decoration:underline}.c0{max-width:468pt;background-color:#ffffff;padding:72pt 72pt 72pt 72pt}.c1{height:11pt;direction:ltr;margin-left:-15pt}.c2{color:#333333;background-color:#ffffff}.c6{color:inherit;text-decoration:inherit}.c7{margin-left:-15pt}.c4{direction:ltr}.c10{text-align:center}.c5{height:11pt}.c8{vertical-align:sub}.c3{vertical-align:super}.title{padding-top:24pt;line-height:1.15;text-align:left;color:#000000;font-size:36pt;font-family:"Arial";font-weight:bold;padding-bottom:6pt}.subtitle{padding-top:18pt;line-height:1.15;text-align:left;color:#666666;font-style:italic;font-size:24pt;font-family:"Georgia";padding-bottom:4pt}li{color:#000000;font-size:11pt;font-family:"Arial"}p{color:#000000;font-size:11pt;margin:0;font-family:"Arial"}h1{padding-top:24pt;line-height:1.15;text-align:left;color:#000000;font-size:18pt;font-family:"Arial";font-weight:bold;padding-bottom:6pt}h2{padding-top:18pt;line-height:1.15;text-align:left;color:#000000;font-size:14pt;font-family:"Arial";font-weight:bold;padding-bottom:4pt}h3{padding-top:14pt;line-height:1.15;text-align:left;color:#666666;font-size:12pt;font-family:"Arial";font-weight:bold;padding-bottom:4pt}h4{padding-top:12pt;line-height:1.15;text-align:left;color:#666666;font-style:italic;font-size:11pt;font-family:"Arial";padding-bottom:2pt}h5{padding-top:11pt;line-height:1.15;text-align:left;color:#666666;font-size:10pt;font-family:"Arial";font-weight:bold;padding-bottom:2pt}h6{padding-top:10pt;line-height:1.15;text-align:left;color:#666666;font-style:italic;font-size:10pt;font-family:"Arial";padding-bottom:2pt}</style></head><body class="c0"><h1 class="c4"><span>Introduction</span></h1><p class="c7 c4"><span class="c2">This tutorial will introduce you the concept of cameras, transformation, camera distortions and calibration.</span></p><h2 class="c4"><span>The Camera</span></h2><p class="c7 c4"><span class="c2">The concept of a camera has been around for a while. You may be familiar with cameras and capturing images with them. We will look a bit closer at exactly what a camera does.</span></p><p class="c7 c4"><span class="c2">A camera &quot;looks&quot; at a far away object (The Big Ben) and shows it to you on a screen:</span></p><p class="c7 c4 c10"><img height="375" src="images/image09.jpg" width="565"></p><p class="c7 c4 c10"><span class="c11"><a class="c6" href="http://www.usingcellphones.com/">source</a></span></p><p class="c4"><span class="c2">The first thing we would notice is that the final image (the screen) doesn&#39;t have a depth. Of course you can move closer to the Big Ben, but in the screen it only gets bigger. Lights and shading in the final image give an illusion of depth, but the final image it self is not a 3D object. This means at some point the camera translated the Big Ben light to a flat image. This transformation can be understood as a transform between the 3D and 2D spatial coordinates.</span></p><h3 class="c4"><span>Spatial Coordinates</span></h3><p class="c7 c4"><span class="c2">The</span><span class="c2">&nbsp;camera looks and draws the positions of objects, we need to have a way to understand positions. The cartesian coordinate system is one way to describe positions of objects in a space. &nbsp;</span></p><p class="c1"><span class="c2"></span></p><p class="c1"><span class="c2"></span></p><p class="c7 c4"><img height="234" src="images/image10.png" width="242"><span class="c2">&nbsp;</span><img height="252" src="images/image13.png" width="252"></p><p class="c7 c4"><span class="c2">NOTE: You can refresh y</span><span class="c2">our me</span><span class="c2">mory of the cartesian coordinate system </span><span class="c9"><a class="c6" href="http://en.wikipedia.org/wiki/Cartesian_coordinate_system">here</a></span><span class="c2">.</span></p><p class="c1"><span class="c2"></span></p><h3 class="c4"><span>Camera Transform</span></h3><p class="c7 c4"><span class="c2">Cameras transform the 3D cartesian coordinates to 2D cartesian coordinates. Mathematically it can be described as:</span></p><p class="c1"><span class="c2"></span></p><p class="c7 c4"><img height="17" src="images/image14.gif" width="79"></p><p class="c1"><span class="c2"></span></p><p class="c7 c4"><span class="c2">Or more specifically:</span></p><p class="c1"><span class="c2"></span></p><p class="c4 c7"><img height="88" src="images/image04.gif" width="124"></p><p class="c1"><span class="c2"></span></p><p class="c7 c4"><span class="c2">A is a matrix that performs the transformation. &nbsp;The transformation matrix is described by the pinhole camera model.</span></p><p class="c1"><span class="c2"></span></p><p class="c7 c4"><span class="c2">NOTE: Although while out of scope for this tutorial to review linear algebra and matrices transformation have a look </span><span class="c9"><a class="c6" href="https://www.khanacademy.org/math/linear-algebra">here.</a></span><span class="c2">&nbsp;</span></p><h3 class="c4"><span>Pinhole Camera Model</span></h3><p class="c7 c4"><span class="c2">The pinhole camera is a common model used to describe a camera. In this model the camera is described as a mathematical function called the perspective transform.</span></p><p class="c1"><span class="c2"></span></p><p class="c7 c4"><span class="c2">In this model the camera matrix (A) is defined with several parameters. These parameters are the intrinsic parameters of the camera. </span></p><p class="c1"><span class="c2"></span></p><p class="c4"><img height="66" src="images/image08.gif" width="128"></p><p class="c4 c5"><span></span></p><p class="c4"><span>Where the (f</span><span class="c8">near</span><span>,f</span><span class="c8">far</span><span>) are the focal lengths of the camera. &nbsp;The Cx and Cy are the center point of the final image that is made. &nbsp;</span></p><p class="c4 c5"><span></span></p><p class="c4"><span>The focal lengths describe where the camera can focus. If you have a webcam, see if you can find the (f</span><span class="c8">near</span><span>,f</span><span class="c8">far</span><span>) in the environment below. &nbsp;</span></p><p class="c4 c5"><span class="c3"></span></p><p class="c4"><span>[ For simulated take webcam parameters and show them their webcam simulated ]. </span></p><h3 class="c4"><a name="h.nzut1io9ezpo"></a><span>Real Cameras</span></h3><p class="c4 c5"><span class="c3"></span></p><p class="c4"><span>Of course real cameras are not as simple as described in the pinhole camera model. Real lens systems are susceptible to two defects.</span></p><p class="c4 c5"><span class="c3"></span></p><h4 class="c4"><a name="h.iyijxgb66afo"></a><span>Radial Distortions</span></h4><p class="c4 c5"><span class="c3"></span></p><p class="c4"><img height="256" src="images/image03.png" width="561"></p><h4 class="c4"><a name="h.3mcvmqf2zo7h"></a><span>Tangential Distortion</span></h4><p class="c4"><img height="323" src="images/image02.jpg" width="485"></p><p class="c4 c5"><span class="c3"></span></p><p class="c4 c5"><span></span></p><p class="c4"><img height="428" src="images/image17.png" width="571"></p><p class="c4 c5"><span></span></p><p class="c4"><span>The defects are described in a set of geometric equations:</span></p><p class="c4 c5"><span></span></p><p class="c4"><img height="222" src="images/image06.png" width="441"></p><p class="c4 c5"><span class="c3"></span></p><p class="c4 c5"><span></span></p><p class="c4"><img height="17" src="images/image15.png" width="14"><span class="c3">&nbsp;, </span><img height="16" src="images/image05.png" width="14"><span class="c3">&nbsp;, </span><img height="16" src="images/image07.png" width="14"><span class="c3">&nbsp;are radial distortion coefficients, </span><img height="12" src="images/image11.png" width="16"><span class="c3">&nbsp;, </span><img height="12" src="images/image16.png" width="16"><span class="c3">&nbsp;are tangential distortion coefficients. Higher-order coefficients are not considered in OpenCV. In the functions below the coefficients are passed or returned as</span></p><p class="c4"><img height="19" src="images/image01.png" width="137"></p><p class="c4 c5"><span></span></p><p class="c4 c5"><span></span></p><h2 class="c4"><a name="h.c2o9r1emh7qh"></a><span>Camera Calibration</span></h2><p class="c4 c5"><span></span></p><p class="c4"><span>Camera calibration is the process of acquiring the values of A (the camera matrix) and the non linear intrinsic parameters. This is done by taking pictures of known images and using a software called OpenCV. </span></p><p class="c4 c5"><span></span></p><p class="c4 c5"><span></span></p><p class="c4"><span>Using these parameters we can correct badly distorted images:</span></p><p class="c4 c5"><span></span></p><p class="c4"><img height="189" src="images/image12.jpg" width="497"></p><p class="c4 c5"><span></span></p><p class="c4 c5"><span></span></p><p class="c4 c5"><span></span></p><p class="c4 c5"><span class="c3"></span></p><p class="c4"><span>To begin calibrating we need a known image. Usually a checkerboard pattern with odd number squares on at least one axis is used. The reason for using odd number of square is so that we can tell if the checkerboard is upside down. </span></p><p class="c4 c5"><span class="c3"></span></p><p class="c4"><span>This checkerboard is then placed in various positions within the camera&rsquo;s view. As long as no particular area in the camera&rsquo;s view is biased the software will be able to calibrate for distortions correctly. However if there is bias within the placement of the positions we can see calibrated images to be excessively skewed. </span></p><p class="c4 c5"><span class="c3"></span></p><p class="c4"><img height="180" src="images/image00.jpg" width="488"></p></body></html>